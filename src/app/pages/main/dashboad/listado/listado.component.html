<p-table
    #dt
    [value]="cotizaciones"
    dataKey="icod_cotizacion"
    [rows]="10"
    [rowsPerPageOptions]="[10, 25, 50]"
    [paginator]="true"
    [globalFilterFields]="['icod_cotizacion', 'nombre_cliente']"
    [tableStyle]="{ 'min-width': '75rem' }"
>
    <!-- Buscador global -->
    <ng-template #caption>
        <div class="flex justify-end">
            <p-iconfield iconPosition="left">
                <p-inputicon>
                    <i class="pi pi-search"></i>
                </p-inputicon>
              <input
  #globalFilter
  pInputText
  type="text"
  (input)="dt.filterGlobal(globalFilter.value, 'contains')"
  placeholder="Buscar..."
/>

            </p-iconfield>
        </div>
    </ng-template>

    <!-- Encabezado con filtros -->
    <ng-template #header>
        <tr>
            <th>Numero de Cotización</th>
            <th>Nombre Cliente</th>
            <th>Subtotal</th>
            <th>Total</th>
        </tr>
        <tr>
            <th>
                <p-columnFilter type="text" field="numero_cotizacion" placeholder="Buscar código" filterOn="input" ariaLabel="Numero de Cotización"></p-columnFilter>
            </th>
            <th>
                <p-columnFilter type="text" field="nombre_cliente" placeholder="Buscar cliente" filterOn="input" ariaLabel="Nombre Cliente"></p-columnFilter>
            </th>
            <th></th>
            <th></th>
        </tr>
    </ng-template>

    <!-- Cuerpo de la tabla -->
    <ng-template #body let-cotizacion>
        <tr>
            <td>{{ cotizacion.numero_cotizacion }}</td>
            <td>{{ cotizacion.nombre_cliente }}</td>
            <td>{{ cotizacion.monto_sub_total | currency }}</td>
            <td>{{ cotizacion.monto_total | currency }}</td>
        </tr>
    </ng-template>

    <!-- Mensaje si no hay datos -->
    <ng-template #emptymessage>
        <tr>
            <td colspan="4">No se encontraron cotizaciones.</td>
        </tr>
    </ng-template>
</p-table>
